
# Proxmox

Proxmox is a free and open source type 1 hypervisor that is popular with home lab builders. It is a Debian Linux based OS that can be installed on almost anything, although your mileage may vary depending on the strength of the hardware you give it. In my case I will be installing on my desktop PC that I was previously using for gaming. 

I won't go into the specifics of how to install Proxmox, but you basically just download and install the Proxmox ISO to a flash drive and plug it into your computer. If you don't know what you're doing here just look up a video.

## Updating Proxmox

First make sure Proxmox is up to date. Open a new shell console by clicking on your PVE Node and selecting Shell. You will likely need to disable the subscription update sources and create a source list for no-subscription updates. This can be done with the commands below:

```
sed -i '1s/^/Enabled: no\n/' /etc/apt/sources.list.d/pve-enterprise.sources
sed -i '1s/^/Enabled: no\n/' /etc/apt/sources.list.d/ceph.sources    # if youâ€™re not using Ceph

cat > /etc/apt/sources.list.d/proxmox.sources <<'EOF'
Types: deb
URIs: http://download.proxmox.com/debian/pve
Suites: trixie
Components: pve-no-subscription
Signed-By: /usr/share/keyrings/proxmox-archive-keyring.gpg
EOF
```

Now you can update and reboot Proxmox with the following commands:

```
apt update && apt full-upgrade -y
reboot
```

## Tweaking Network Settings 

Now that Proxmox is updated we need to make a lab sub network that is isolated from the main home network that Proxmox sits on. Click `Datacenter > [Node] > Network` to get network settings for the current Proxmox node. We will want to make sure we have two bridges, `vmbr0` and `vmbr1` which will be the bridge to our outside and inside networks respectively.

![[1. Lab Setup-1.png]]

> Note: I have chosen to call my node "tower"

First we want to make sure `vmbr0` exists and is set to VLAN aware: `Yes`. To make changes to the bridge just double click it, then check the box for VLAN aware.

![[1. Lab Setup-2.png]]

Next we will need to create the a new bridge for `vmbr1`. Just click `Datacenter > [Node] > Network > Create > Linux Brige` to open up the create wizard. The name should autofill to `vmbr1` but you will also need to make sure to click the VLAN Aware checkbox in this one as well. All other fields can be left blank.

# PFSense

